\chapter{Общая характеристика предметной области и постановка задачи}
\section{Системы управления проектом}
\subsection{Назначение систем управления проектом}

Системы управление проектами являются комплексными системами, которые
предоставляют большой спектр функциональных возможностей для деятельностей,
связанных с разработкой проектов. Функционал, обеспечивающий следующие виды
деятельности, присутствует во многих системах управления проектами:
\begin{itemize}
  \item планирование;
  \item постановка задач;
  \item оценка и разработка;
  \item управление бюджетом;
  \item распределение ресурсов;
  \item контроль качества;
  \item взаимодействие;
  \item документирование.
\end{itemize}
Системы управления проектами позволяют сделать процесс разработки более
эффективным и удобным, таким образом уменьшая сложность ведения проекта и
позволяя осуществлять управление большим количеством проектов. 

Одна из основных возможностей систем управления проектами "--- это
управление множеством событий и задач. Основные действия, производимые
при управлении задачами, следующие:
\begin{itemize}
  \item разрешение зависимостей между задачами;
  \item назначение задач участникам проекта;
  \item решение проблем, связанных с неточной оценкой срока выполнения задач.
\end{itemize}

При помощи систем управления проектами возможно выполнять множество задач
связанных с планированием, поскольку они предоставляют участникам проекта
информацию, необходимую для измерения текущих затрат на проект, и помогают
оценить объем работ и сроки, необходимые для завершения проекта. Следующая
информация может быть предоставлена системой управления проектами:
\begin{itemize}
  \item ожидаемое время выполнения задач;
  \item предупреждения о возможных рисках в проекте;
  \item объём выполняемых работ;
  \item прогресс проекта (настоящие и ожидаемые результаты);
  \item стоимость разработки.
\end{itemize}


\subsection{Основные представители}
\rmk{Непонятно, зачем вообще приведён этот пункт. Здесь нет вывода, он не связан
с другими пунктами, системы описаны крайне поверхностно и без ссылок.}

% Я тоже непонимаю зачем он нужен, ведь ты же сам говорил, что я ничего не
% выбирал, зачем тогда мне приводить основных представителей? Помоему и без
% этого пункта будет неплохо выглядеть.

На рынке приложений существует огромное количество систем для управления
проектами. Здесь будут рассмотрены только бесплатные веб-приложения
приложения являющиеся Open Source проектами.

\subsubsection{Collabtive}
Collabtive "--- это Open Source альтернатива для коммерческих приложений, таких
как: Basecamp или ActiveCollab. Позволяет совместно участвовать в
проектах, обмениваясь мгновенными сообщениями, производить учёт времени,
строить отчеты и импортировать данные из BaseCamp.

\subsubsection{Project HQ}
Project HQ "--- это инструмент для управления проектами, написанный на Python и
использующий следующие технологии: SQLAlchemy, Pylons. Предоставляет
функциональность схожую с Collabtive, дополнительно позволяет настраивать стили
отображения с помощью CSS.

\subsubsection{Trac}
Trac "--- это инструмент для управления проектами и отслеживания ошибок,
ориентированный на разработчиков приложений. Он позволяет связать информацию
между системами контроля версий, задачами и вики-страницами. Также может
служить веб-интерфейсом к следующим системам контроля версий: Subversion, Git,
Mercurial, Bazaar and Darcs.

\subsubsection{Redmine}
Redmine "--- это гибкая система управления проектами, написанная c
использованием Ruby on Rails и являющаяся кросс-платформенной системой
поддерживающей три базы данных. Redmine предоставляет доступ к календарю и
диаграмме Ганта для отображения визуальной информации о проектах и сроках,
связанных с ними.

\subsection{Соответствие функционала запросам организации}

% Мне не понятно, в каком ключе переделывать данный абзац

\bad{Ярославская лаборатория `Fruct` занимается разработкой проектов в рамках
одноимённой программы. Проектами лаборатории являются мобильные приложения,
написанные с использованием фреймворка Qt и предназначенные для запуска на
различных платформах: MeeGo, Symbian, Android.}

\bad{Мир информационных технологий чрезвычайно быстро развивается и изменяется.
Таким образом менеджеры и участники проектов постоянно сталкиваются с
изменением требований бизнеса или заказчика, к которым они должны
адаптироваться, а также вследствие специфики информационных областей
приходится обрабатывать большое количество данных. Поэтому управление проектами в
информационных областях является сложным процессом, облегчить выполнение
которого могут системы управления проектами.}

\bad{При выборе системы управления проектами необходимо учесть тот факт, что, помимо
наличия достаточных функциональных возможностей, должна быть легко расширяемой.
Мир информационных технологий быстро изменяется, поэтому система управления
информационными проектами, так же должна иметь способность к расширению и
изменению. Миграция на другую систему управления проектами, удовлетворяющую
новым требованиям, в большинстве случаев невозможно из-за разницы в
представлении данных и сложных взаимосвязей внутри них. Поэтому одним из важных
требований к системам управления информационными проектами является возможность
расширения.}

\section{Система управления проектами Redmine}
Redmine "--- это система управления проектами, основными достоинствами которой
являются, бесплатность, гибкая расширяемость, доступные исходные коды.
Данная система позволяет управлять всеми стадиями разработки проекта, начиная
от обсуждения проектного плана и заканчивая отслеживанием задач и занесением
данных об их прогрессе в общую базу знаний проекта. Одной из главных
особенностей Redmine является большое сообщество разработчиков, сложившееся
вокруг него. Redmine "--- это Open Source проект и каждый желающий может принять
участие в его разработке, тем самым способствуя развитию проекта.

\subsection{Функциональные возможности}
Redmine обладает следующими возможностями:
\begin{itemize}
  \item неограниченное количество проектов;
  \item гибкая система контроля доступа;
  \item гибкая система отслеживания задач;
  \item диаграмма Ганта и календарь;
  \item новости, документы и управление файлами;
  \item RSS и уведомления по e-mail;
  \item вики-страницы;
  \item форумы;
  \item отслеживание времени;
  \item настраиваемые поля для задач, проектов и пользователей;
  \item интеграция с системами контроля версий;
  \item создание задач посредством e-mail;
  \item аутентификация через LDAP;
  \item регистрация инициируемая пользователем;
  \item поддержка множества языков;
  \item поддержка нескольких БД.
\end{itemize}
Проект активно развивается и с выходом новых версии добавляются новые
возможности.

\section{Ruby on Rails}
Redmine разработан с помощью фреймворка Ruby on Rails. Ruby on Rails "--- это
фреймворк, написанный на языке Ruby, предназначенный для построения
веб-приложений в соответствии с шаблоном проектирования Модель-Вид-Контроллер.
Rails приложение состоит из трёх ключевых уровней, описанных ниже.

Уровень представления состоит из файлов-шаблонов, которые отвечают за
отображение данных приложения. Шаблоны могут быть различных видов, но основным
форматом является HTML со вставками на языке Ruby, за генерацию которого
отвечает движок ERB языка Ruby.

Уровень модели представляет доменную область и инкапсулирует бизнес-логику
приложения. Классы модели в Rails приложении могут быть связаны с базой данных
(БД) через Rails модуль ActiveRecord. ActiveRecord даёт возможность работать со
строками в БД как с объектами, а также дополнять данные объекты методами
бизнес-логики.

Контроллеры отвечают за обработку входящих HTTP запросов и формирование ответа.
Зачастую, ответ возвращается в HTML, но также возможна генерация ответа в XML,
JSON, PDF и других форматах. Контроллеры генерируют ответ на основе данных,
полученных из моделей, и соответствующих шаблонов представления.

\subsection{Возможности для расширения}
Существует два способа расширить функциональность Redmine: непосредственное
изменение исходного кода и оформление изменений в виде патчей или разработка 
модулей к системе, которые называются плагинами.

\subsubsection{Патч}
Изменение функциональности с помощью патча является универсальным способом,
применимым к любому приложению с открытыми исходными кодами. Патч представляет
собой файл, в котором отражены различия между двумя версиями исходных кодов
приложения. Пользователи или разработчики должны установить патч, для того
чтобы внести изменения в приложение. Процесс установки может быть осуществлён
вручную или автоматически, при помощи специальных утилит, таких как `patch` в
unix системах. С помощью патчей мы получаем возможность удобным образом
распространять изменения исходного кода приложения.

\subsubsection{Плагин}
Плагин "--- это модуль, который подключается к приложению, с целью изменения
или добавления функциональности. Приложение предоставляет механизмы, которые
позволяют плагину зарегистрировать себя в приложении и использовать сервисы
предоставляемые приложением. Плагины зависят от сервисов предоставляемых
приложением и зачастую отдельно не используются. Приложение управляет
плагинами, предоставляя пользователям возможность динамически добавлять и
обновлять плагины без необходимости внесения изменений в основное приложение.
Система плагинов Redmine основана на механизме фреймворка Ruby on Rails,
называемом Engines. Rails Engine позволяет встроить одно Rails приложение или
часть его функциональности в другое Rails приложение. Данный механизм был
специальным образом доработан разработчиками Redmine.

\subsubsection{Сравнение способов расширения}
У каждого из способов есть свои достоинства и недостатки, которые приведены в
таблице \ref{comparing_extensions}.
\begin{table}[hb!]
\small
\centering
\begin{tabular}{ 
|>{\centering\arraybackslash}m{0.4\textwidth}
|>{\centering\arraybackslash}m{0.25\textwidth}
|>{\centering\arraybackslash}m{0.25\textwidth}|}
\hline
\textbf{Сравниваемый параметр} & \textbf{Плагин} & \textbf{Патч}\\
\hline
Сложность разработки & Высокая & Низкая \\
\hline
Спектр решаемых задач & Ограниченный & Максимальный\\
\hline
Устойчивость к обновлениям системы & Высокая & Низкая \\
\hline
Стоимость внесения изменений & Высокая & Средняя \\
\hline
Удобство распространения & Высокое & Низкое \\
\hline
\end{tabular}
\caption{Сравнение способов расширения Redmine}
\label{comparing_extensions}
\end{table}

Плагины гораздо более сложны в разработке, поскольку при разработке необходимо
использовать механизмы предусмотренные системой плагинов и возможности языка,
для того, чтобы изменить поведение приложения. Там где при
использовании патча будет достаточным внести изменения в одну строку кода, в
плагинах придётся искать способ выполнить подобное действие с помощью
предоставленных механизмов.

С помощью плагинов возможно внести изменение только непосредственно в код
приложения и невозможно изменить внешний скрипт не управляемый приложением.
Патчи решают подобную задачу стандартным способом.

Плагины более устойчивы обновлениям системы, поскольку в этом случае изменения
вносятся на более высоком уровне. К примеру, в случае плагинов мы можем дать
команду `добавить метод к классу`, в патчах же мы изменим исходный код класса и
на основе этого сформируем патч. Успех применения патча будет сильно зависеть,
от внутреннего устройства класса и следовательно он будет менее устойчивым к
обновлениям этого класса.

Внесение изменений как в патч так и в плагин затратная операция. Но патч в
данном случае выигрывает у плагина. Поскольку плагины сложны в разработке и не
так гибки как патчи, то может потребоваться время, чтобы соответствующим
образом адаптироваться к новым изменениям в приложении или внедрить новую
функциональность.

Удобство распространения гораздо выше у плагина. Во-первых, при установке патча
нужно быть готовым, что возможно будет конфликт с одним из уже установленных
патчей. И данный конфликт невозможно будет разрешить без знаний устройства
приложения.
Такие конфликты в случае плагинов менее вероятны. Во-вторых, в плагине могут
быть явно указаны версии приложения с которыми он совместим или могут быть
указаны зависимости от других плагинов. В-третьих, для установки плагина не
нужно уметь использовать инструменты для применения патчей. Всё это делает
плагины удобным средством распространения расширений.


\section{Постановка задачи}
Задача по разработке расширений состоит из трёх частей:
\begin{itemize}
  \item реализация расширений;
  \item создание инфраструктуры, упрощающей поддержку расширений;
  \item размещение расширений в открытом доступе;
\end{itemize}
   
Всё взаимодействие участников проекта проходит через Redmine и важно, чтобы
работа с Redmine была эффективной, удобной и отвечала нуждам организации.
Следующая функциональность должна быть добавлена в приложение:
\begin{itemize}
  \item ораничение доступа к репозиториям;
  \item ограничение доступа к отдельным вики-страницам;
  \item рассылка уведомлений о приближающихся и просроченных
  задачах;
  \item расширение интеграция с системами контроля версий; 
  \item указание типа задачи при составлении обзора кода;
  \item улучшение механизма позиционирования всплывающего календаря;
  \item изображения-ссылки на рекомендуемые ресурсы в боковой панели.
\end{itemize}

Разработку расширений целесообразно производить итеративно, постепенно расширяя
функциональность и исправляя дефекты. А также необходимо осуществлять поддержку
созданных расширений, поскольку Redmine регулярно обновляется и возможно, что
одно из подобных обновлений сделает некоторые расширения неработоспособными и
они потребуют соответствующих изменений. Исходя из этого, необходимо
разработать механизм позволяющий эффективно управлять итеративной разработкой и
поддержкой большого количества расширений.

Redmine "--- это Open Source проект, который развивается разработчиками по
всему миру. В интересах лаборатории способствовать тому, чтобы популярность
Redmine росла, поскольку количество энтузиастов, участвующих в его разработке,
напрямую зависит от популярности проекта. Открыв доступ к расширениям можно
привлечь сторонних разработчиков, которые помогут развивать выложенные
расширения. Необходимо выложить в открытый доступ разработанные расширения для
того, чтобы увеличить функционал и тем самым создать конкурентные преимущества
Redmine относительно других систем управления проектами.

\subsubsection{Требования к расширениям}

\paragraph{Ограничение доступа к репозиториям.}
\label{definiton:private_repository}
В лаборатории система управления проектами Redmine используется не только для
внутренних целей, но также позволяет внешним пользователям следить за развитием
общедоступных проектов. Но если разрешить неавторизованным пользователям
просматривать репозитории всех проектов, то невозможно запретить доступ к
одному из репозиториев, остальные оставляя открытыми. Были сформированы
следующие требования к расширению:
\begin{itemize}
  \item должно быть реализовано право доступа на просмотр закрытых
  репозиториев;
  \item закрытый репозиторий должен быть виден только пользователям с
  соответствующими правами;  
  \item вся информация, связанная с закрытым репозиторием, должна быть скрыта
  от пользователя, если у него нет соответствующих прав;
  \item на странице свойств репозитория должен присутствовать элемент
  управления, позволяющий изменять закрытость репозитория.
\end{itemize}

\paragraph{Ограничение доступа к отдельным вики-страницам.}
\label{definition:private_wiki}
Система контроля доступа в Redmine позволяет ограничить доступ ко всем
вики-страницам в проекте, но нет возможности ограничить просмотр лишь отдельных
вики-страниц. Были определены следующие требования к расширению:
\begin{itemize}
  \item должны быть реализованы права доступа на управления закрытыми
  страницами и на их просмотр;
  \item только пользователи с соответствующими правами могут просматривать
  вики-страницы и управлять из видимостью;   
  \item на вики-странице должен присутствовать элемент управления, позволяющий
  изменить её видимость;
  \item на вики-странице должен быть индикатор, указывающий, что страница
  является закрытой.
\end{itemize}

\paragraph{Рассылка уведомлений о приближающихся и просроченных задачах.}
\label{definition:due_date_reminder}
Расширение должно уведомлять пользователей о задачах, срок исполнения которых
истекает в ближайшее время, а также производить уведомление о просроченных
задачах. Были сформированы следующие требования:
\begin{itemize}
  \item уведомления осуществляется путём отсылки уведомлений в указанные дни;
  \item формат: одно уведомление с общим списком просроченных и приближающихся
  задач, отсортированных по проектам и по `степени просроченности`; 
  \item конфигурирование пользователем с помощью текстового поля, в которые он
  вводит дни через разделитель ("1,3,5" - предупреждать за 1, за 3 и за 5
  дней);
  \item уведомление о просроченных задачах должно осуществляться принудительно
  раз в сутки;
\end{itemize}

\paragraph{Расширение интеграции с системами контроля версий.}
Redmine предоставляет возможность закрыть задачу через специальным образом
оформленное сообщение коммита в системе контроля версий. Необходимо расширить
данный функционал, сделав возможным установить статус задачи ``resolved''
через сообщение коммита.

\paragraph{Возможность указать тип задачи при составлений обзора кода.}
В Ярославской лаборатории FRUCT активно используется Redmine плагин Code
Review, для выполнения обзоров кода. При работе с кодовой базой приложения,
плагин позволяет создавать задачи, ссылающиеся на обозреваемый участок кода.
Плагин реализован таким образом, что тип создаваемой задачи можно указать
только в глобальных настройках. Подобное поведение является не удобным
если необходимо создать задачу, с типом отличным от указанной в глобальных
настройках. Следует сделать возможным выбор типа задачи непосредственно во
время составления обзора кода.


\paragraph{Улучшенный механизм позиционирования всплывающего календаря.}
В Redmine присутствует компонент, отображающий календарь. В случае если кнопка
вызова календаря располагается близко к краю страницы, календарь
будет частично скрыт и необходимо проскроллить страницу, чтобы отобразить его
полностью. Подобное поведение проявляется при работе с Redmine на устройствах с
низким расширением экрана. Следует сделать так, чтобы в подобном случае
календарь был полностью в видимости пользователя.

\paragraph{Изображения-ссылки в боковой панели.}
Ярославская лаборатория FRUCT использует Redmine не только как систему
управления проектами, но и как портал, освещающий деятельность лаборатории.
Активность лаборатории связана с организацией FRUCT, ссылки на ресурсы которой
необходимо разместить на страницах Redmine в боковой панели.


%%% Local Variables: 
%%% mode: latex
%%% TeX-PDF-mode: t
%%% TeX-master: "diploma"
%%% End: 
